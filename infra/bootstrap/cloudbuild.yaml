pipeline:
   # Initialize Terraform
   - name: 'hashicorp/terraform:1.9.0'
     args: ['init']
     dir: 'infra/bootstrap'

   # Validate Terraform configuration
   - name: 'hashicorp/terraform:1.9.0'
     args: ['validate']
     dir: 'infra/bootstrap'

   # Plan Terraform changes
   - name: 'hashicorp/terraform:1.9.0'
     args: ['plan', '-out=tfplan']
     dir: 'infra/bootstrap'

   # Apply Terraform changes
   - name: 'hashicorp/terraform:1.9.0'
     args: ['apply', '-auto-approve', 'tfplan']
     dir: 'infra/bootstrap'

# Options for Cloud Build
options:
  logging: CLOUD_LOGGING_ONLY

# Timeout for the build
timeout: '1200s'